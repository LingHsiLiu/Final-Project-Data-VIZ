<!DOCTYPE html>
<html>
	<head>
		<title>CS498 Data Visualization Final Project	</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vega/3.0.0-rc2/vega.js"></script>
  		<script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/2.0.0-beta.10/vega-lite.js"></script>
  		<script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/3.0.0-beta.19/vega-embed.js"></script>
		
		
		<link href="CSS/common.css" rel="stylesheet" type="text/css" />
		<link href="CSS/home.css" rel="stylesheet" type="text/css" />
		
		<meta charset="utf-8">
		<style>
			.state{
				fill: none;
				stroke: #a9a9a9;
				stroke-width: 1;
			}
			.state:hover{
				fill-opacity:0.5;
			}
			#tooltip {   
				position: absolute;           
				text-align: center;
				padding: 20px;             
				margin: 10px;
				font: 12px sans-serif;        
				background: lightsteelblue;   
				border: 1px;      
				border-radius: 2px;           
				pointer-events: none;         
			}
			#tooltip h4{
				margin:0;
				font-size:14px;
			}
			#tooltip{
				background:rgba(0,0,0,0.9);
				border:1px solid grey;
				border-radius:5px;
				font-size:12px;
				width:auto;
				padding:4px;
				color:white;
				opacity:0;
			}
			#tooltip table{
				table-layout:fixed;
			}
			#tooltip tr td{
				padding:0;
				margin:0;
			}
			#tooltip tr td:nth-child(1){
				width:50px;
			}
			#tooltip tr td:nth-child(2){
				text-align:center;
			}
		</style>
		
		<script src="//d3js.org/d3.v3.min.js"></script>
		<script src="http://d3js.org/d3.v3.min.js"></script>

		
	</head>
	<body>
		<div id = "wrapper"> 
			<div id = "banner">	
				<h1>Unemployment from 2011-2015 </h1>
				<p></p>
				<p>In Bar chart, it shows that different states have different unemployment rate from 2011 to 2015.</P>
				<p>The America economy became better from 2011 to 2015, because the unemployment rate had continued to decline from 2011 to 2015 in each of the 50 States.</P>
				<p>The highest unemployment rate from 2011 to 2015 is Puerto Rico. </P>
				<p>The lowest unemployment rate from 2011 to 2015 is North Dakota. </P>
				<p>The largest decreasing unemployment rate is Nevada that has dropped 5.1 % from 2011(13.0%) to 2015 (6.7%). </P>
				<p>The second declining unemployment rate is California, dropping 5.5 %. </P>
				<p>The third decreasing unemployment rate is Florida, 4.6% drop from 2011 to 2015.  </P>
			</div>
		
<!---navbar-->
			<div id="navbar">
				<nav class="nav">
					<ul>
						<li><a href="index.html">2011 <br>Unemployment</a></li>
						<li><a href="2012unemployment.html">2012 <br>Unemployment</a></li>
						<li><a href="2013unemployment.html">2013 <br>Unemployment</a></li>
						<li><a href="2014unemployment.html">2014 <br>Unemployment</a></li>
						<li><a href="2015unemployment.html">2015 <br>Unemployment</a></li>

					</ul>
				</nav>          
			</div>
        
<!-- end navbar-->
			<div id ="precontent">
			</div>

			<div id ="content">
				<div id="content1">
					<div class = "contentleft">
							<p><B>Map Chart </B> &nbsp;&nbsp;&nbsp;2011 Unemployment Rate </p>
							<p></p>
							<div id="tooltip"></div><!-- div to hold tooltip. -->
							<svg width="960" height="600" id="statesvg"></svg> <!-- svg to hold the map. -->
							<script src="uStates.js"></script> <!--  creates uStates. -->
							<script src="//uStates.js"></script> <!-- creates uStates. -->
							<script src="/uStates.js"></script> <!-- creates uStates. -->
							<script src="http://d3js.org/d3.v3.min.js"></script>

							<script>
								function tooltipHtml(n, d){ /* function to create html content string in tooltip div. */
								return "<h4>"+n+"</h4><table>"+
								"<tr><td>2011 Unemployment Rate</td><td>"+(d.total)+"</td></tr>"+
								"</table>";
								}
								var payments_data = [
								{id: "MT",total: 6.9},
								{id: "VT",total: 5.5},
								{id: "AK",total: 7.6},
								{id: "SD",total: 4.7},
								{id: "ME",total: 7.9},
								{id: "ND",total: 7.2},
								{id: "NE",total: 4.4},
								{id: "NH",total: 5.4},
								{id: "LS",total: 7.8},
								{id: "ID",total: 8.3},
								{id: "NV",total: 13.0},
								{id: "AL",total: 9.6},
								{id: "WI",total: 7.8},
								{id: "HI",total: 6.8},
								{id: "AR",total: 8.3},
								{id: "NM",total: 7.5},
								{id: "DC",total: 10.2},
								{id: "WY",total: 5.8},
								{id: "DE",total: 7.5},
								{id: "OR",total: 9.5},
								{id: "UT",total: 6.7},
								{id: "KS",total: 6.5},
								{id: "MD",total: 7.2},
								{id: "RI",total: 11.0},
								{id: "WV",total: 8.1},
								{id: "MS",total: 10.0},
								{id: "WA",total: 9.3},
								{id: "CO",total: 8.4},
								{id: "MN",total: 6.5},
								{id: "IA",total: 5.5},
								{id: "SC",total: 10.6},
								{id: "GA",total: 10.2},
								{id: "TN",total: 9.0},
								{id: "AZ",total: 9.5},
								{id: "MO",total: 8.5},
								{id: "KY",total: 9.4},
								{id: "OH",total: 8.8},
								{id: "CT",total: 8.8},
								{id: "IL",total: 9.7},
								{id: "VA",total: 6.6},
								{id: "OK",total: 5.9},
								{id: "IN",total: 9.1},
								{id: "MI",total: 10.4},
								{id: "NJ",total: 9.3},
								{id: "CA",total: 11.7},
								{id: "FL",total: 10.0},
								{id: "NC",total: 10.3},
								{id: "TX",total: 7.8},
								{id: "PA",total: 7.9},
								{id: "NY",total: 8.3},
								{id: "MA",total: 7.3}
								];
								payments_data.forEach(function(d){
								var total = Math.round(d.total);
								payments_data[d.id]={total:d.total,color:d3.interpolate("#e5f5f9", "#a7ddeb")(total/2)};
								});
								/* draw states on id #statesvg */
								uStates.draw("#statesvg", payments_data, tooltipHtml);
							</script>
					</div>
					<div class = "contentright">
						<p>Hello</p>
						<p>Hello</p>
						<p>Hello</p>
						<p>Hello</p>
					
					</div>
				</div><!-- end content 1 --->
				<div id="content2">
					<div class = "contentleft">
					
					</div>
					
					<div class = "contentright">
										
						<div id="piechart1"></div>
						<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
						<script type="text/javascript">
						// Load google charts
						google.charts.load('current', {'packages':['corechart']});
						google.charts.setOnLoadCallback(drawChart);
						// Draw the chart and set the chart values
						function drawChart() {
						  var data = google.visualization.arrayToDataTable([
						  ['Task', 'Hours per Day'],
						  ['Employment', 141791255],
						  ['Unemployment', 14035049]
						]);
						  // Optional; add a title and set the width and height of the chart
						  var options = {'title':'2011 Total US Unemployment Rate', 'width':500, 'height':350};
						  // Display the chart inside the <div> element with id="piechart"
						  var chart = new google.visualization.PieChart(document.getElementById('piechart1'));
						  chart.draw(data, options);
						}
						</script>				
						
					</div>
				</div><!-- end content 2 -->
				<div id="content3">
					<div class = "contentleft">
						<p>2011 Unemployment Rate</p>
						<div id="vis"></div>
						<script type="text/javascript">
							var yourVlSpec = {
							"$schema": "https://vega.github.io/schema/vega-lite/v2.0.json",
							"description": "A simple bar chart with embedded data.",
								"data": {
								"values": [
									{"US States": "AL","Unemployment Rate %": 9.6}, {"US States": "AK","Unemployment Rate %": 7.6}, 
									{"US States": "AZ","Unemployment Rate %": 9.5}, {"US States": "AR","Unemployment Rate %": 8.3}, 
									{"US States": "CA","Unemployment Rate %": 11.7}, {"US States": "CO","Unemployment Rate %": 8.4},
									{"US States": "CT","Unemployment Rate %": 8.8}, {"US States": "DE","Unemployment Rate %": 7.5}, 
									{"US States": "DC","Unemployment Rate %": 10.2}, {"US States": "FL","Unemployment Rate %": 10},
									{"US States": "GA","Unemployment Rate %": 10.2}, {"US States": "HI","Unemployment Rate %": 6.8},
									{"US States": "ID","Unemployment Rate %": 8.3}, {"US States": "IL","Unemployment Rate %": 9.7},
									{"US States": "IN","Unemployment Rate %": 9.1}, {"US States": "IA","Unemployment Rate %": 5.5},
									{"US States": "KS","Unemployment Rate %": 6.5}, {"US States": "KY","Unemployment Rate %": 9.4},
									{"US States": "LA","Unemployment Rate %": 7.8}, {"US States": "ME","Unemployment Rate %": 7.9},
									{"US States": "MD","Unemployment Rate %": 7.2}, {"US States": "MA","Unemployment Rate %": 7.3},
									{"US States": "MI","Unemployment Rate %": 10.4}, {"US States": "MN","Unemployment Rate %": 6.5},
									{"US States": "MS","Unemployment Rate %": 10}, {"US States": "MO","Unemployment Rate %": 8.5},
									{"US States": "MT","Unemployment Rate %": 6.9}, {"US States": "NE","Unemployment Rate %": 4.4},
									{"US States": "NV","Unemployment Rate %": 13}, {"US States": "NH","Unemployment Rate %": 5.4},
									{"US States": "NJ","Unemployment Rate %": 9.3}, {"US States": "NM","Unemployment Rate %": 7.5},
									{"US States": "NY","Unemployment Rate %": 8.3}, {"US States": "NC","Unemployment Rate %": 10.3},
									{"US States": "ND","Unemployment Rate %": 3.5}, {"US States": "OH","Unemployment Rate %": 8.8},
									{"US States": "OK","Unemployment Rate %": 5.9}, {"US States": "OR","Unemployment Rate %": 9.5},
									{"US States": "PA","Unemployment Rate %": 7.9}, {"US States": "RI","Unemployment Rate %": 11},
									{"US States": "SC","Unemployment Rate %": 10.6}, {"US States": "SD","Unemployment Rate %": 4.7},
									{"US States": "TN","Unemployment Rate %": 9}, {"US States": "TX","Unemployment Rate %": 7.8},
									{"US States": "UT","Unemployment Rate %": 6.7}, {"US States": "VT","Unemployment Rate %": 5.5},
									{"US States": "VA","Unemployment Rate %": 6.6}, {"US States": "WA","Unemployment Rate %": 9.3},
									{"US States": "WV","Unemployment Rate %": 8.1}, {"US States": "WI","Unemployment Rate %": 7.8},
									{"US States": "WY","Unemployment Rate %": 5.8}, {"US States": "PR","Unemployment Rate %": 16}
									]
								},
								"mark": "bar",
								"encoding": {
								"x": {"field": "US States", "type": "ordinal"},
								"y": {"field": "Unemployment Rate %", "type": "quantitative"}
								}
							}
							vega.embed("#vis", yourVlSpec);
						</script>
						<p></p>
						<p></p>
					
					</div>
					
					<div class = "contentright">
					</div>
				</div><!-- end content 3 -->
				
				
			</div><!-- end content -->
		<footer>
    		<ul>
        		<li><a href="mailto:lhliu2@illinois.edu">email</a></li>
        		<li><a href="https://github.com/">github.com/</a></li>
			</ul>
		</footer>
	</body>
</html>
